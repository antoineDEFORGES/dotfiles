# Hyprland Config

# Default colors (overridden by wallust if colors.conf exists)
$background = rgb(1e1e2e)
$foreground = rgb(cdd6f4)
$color0 = rgb(45475a)
$color4 = rgb(89b4fa)
$color5 = rgb(f5c2e7)

# Machine-specific (monitor, GPU) - create from local.conf.example
source = ~/.config/hypr/local.conf

# Wallust colors (optional - overrides defaults above)
source = ~/.config/hypr/colors.conf

# =============================================================================
# ENVIRONMENT
# =============================================================================

# Wayland
env = XDG_SESSION_TYPE,wayland
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_DESKTOP,Hyprland

# Qt/GTK
env = GDK_BACKEND,wayland,x11,*
env = QT_QPA_PLATFORM,wayland;xcb
env = QT_AUTO_SCREEN_SCALE_FACTOR,1
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1

# Apps
env = MOZ_ENABLE_WAYLAND,1
env = ELECTRON_OZONE_PLATFORM_HINT,auto

# Cursor
env = HYPRCURSOR_THEME,rose-pine-cursor
env = HYPRCURSOR_SIZE,24

# =============================================================================
# AUTOSTART
# =============================================================================

exec-once = waybar
exec-once = hyprpaper
exec-once = dunst

# =============================================================================
# INPUT
# =============================================================================

input {
    kb_layout = us
    repeat_rate = 50
    repeat_delay = 300

    follow_mouse = 1
    accel_profile = flat

    touchpad {
        natural_scroll = true
        tap-to-click = true
    }
}

# =============================================================================
# APPEARANCE
# =============================================================================

general {
    gaps_in = 5
    gaps_out = 10
    border_size = 2
    col.active_border = $color4 $color5 45deg
    col.inactive_border = $color0
    layout = dwindle
}

decoration {
    rounding = 10
    active_opacity = 0.95
    inactive_opacity = 0.85
    fullscreen_opacity = 1.0

    shadow {
        enabled = true
        range = 20
        render_power = 3
        color = rgba(00000077)
    }

    blur {
        enabled = true
        size = 8
        passes = 2
        new_optimizations = true
    }
}

animations {
    enabled = false
}

dwindle {
    pseudotile = true
    preserve_split = true
}

misc {
    disable_hyprland_logo = true
    disable_splash_rendering = true
}

# =============================================================================
# KEYBINDINGS
# =============================================================================

$mod = SUPER

# Apps
bind = $mod, Return, exec, kitty
bind = $mod, D, exec, rofi -show drun
bind = $mod, E, exec, thunar
bind = $mod, B, exec, firefox

# Window
bind = $mod, Q, killactive
bind = $mod, F, fullscreen, 0
bind = $mod SHIFT, F, fullscreen, 1
bind = $mod, V, togglefloating
bind = $mod, P, pseudo
bind = $mod, T, togglesplit

# Session
bind = $mod, M, exit
bind = $mod SHIFT, R, exec, hyprctl reload
bind = $mod SHIFT, L, exec, hyprlock

# Screenshots
bind = $mod, S, exec, hyprshot -m region --clipboard-only
bind = $mod SHIFT, S, exec, hyprshot -m output --clipboard-only
bind = $mod, C, exec, hyprpicker -a

# Waybar toggle
bind = $mod, W, exec, pkill waybar || waybar

# -----------------------------------------------------------------------------
# FOCUS (vim: hjkl)
# -----------------------------------------------------------------------------

bind = $mod, H, movefocus, l
bind = $mod, L, movefocus, r
bind = $mod, K, movefocus, u
bind = $mod, J, movefocus, d

# -----------------------------------------------------------------------------
# MOVE WINDOW (vim: shift + hjkl)
# -----------------------------------------------------------------------------

bind = $mod SHIFT, H, movewindow, l
bind = $mod SHIFT, L, movewindow, r
bind = $mod SHIFT, K, movewindow, u
bind = $mod SHIFT, J, movewindow, d

# -----------------------------------------------------------------------------
# RESIZE WINDOW (vim: ctrl + hjkl)
# -----------------------------------------------------------------------------

bind = $mod CTRL, H, resizeactive, -50 0
bind = $mod CTRL, L, resizeactive, 50 0
bind = $mod CTRL, K, resizeactive, 0 -50
bind = $mod CTRL, J, resizeactive, 0 50

# -----------------------------------------------------------------------------
# WORKSPACES
# -----------------------------------------------------------------------------

bind = $mod, 1, workspace, 1
bind = $mod, 2, workspace, 2
bind = $mod, 3, workspace, 3
bind = $mod, 4, workspace, 4
bind = $mod, 5, workspace, 5
bind = $mod, 6, workspace, 6
bind = $mod, 7, workspace, 7
bind = $mod, 8, workspace, 8
bind = $mod, 9, workspace, 9
bind = $mod, 0, workspace, 10

bind = $mod SHIFT, 1, movetoworkspace, 1
bind = $mod SHIFT, 2, movetoworkspace, 2
bind = $mod SHIFT, 3, movetoworkspace, 3
bind = $mod SHIFT, 4, movetoworkspace, 4
bind = $mod SHIFT, 5, movetoworkspace, 5
bind = $mod SHIFT, 6, movetoworkspace, 6
bind = $mod SHIFT, 7, movetoworkspace, 7
bind = $mod SHIFT, 8, movetoworkspace, 8
bind = $mod SHIFT, 9, movetoworkspace, 9
bind = $mod SHIFT, 0, movetoworkspace, 10

# Scroll through workspaces
bind = $mod, mouse_down, workspace, e+1
bind = $mod, mouse_up, workspace, e-1

# -----------------------------------------------------------------------------
# MOUSE
# -----------------------------------------------------------------------------

bindm = $mod, mouse:272, movewindow
bindm = $mod, mouse:273, resizewindow

# =============================================================================
# WINDOW RULES
# =============================================================================

windowrulev2 = opacity 0.90 0.80, class:^(kitty)$
windowrulev2 = opacity 0.95 0.90, class:^(firefox)$
windowrulev2 = opacity 0.90 0.85, class:^(code)$
windowrulev2 = opacity 0.95 0.90, class:^(thunar)$

# Float certain windows
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = float, class:^(blueman-manager)$
windowrulev2 = float, title:^(Picture-in-Picture)$
